<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <id value="m1-prescribing" />
  <meta>
    <lastUpdated value="2017-02-20T20:05:21.682+01:00" />
  </meta>
  <text>
    <status value="generated" /><div xmlns="http://www.w3.org/1999/xhtml">
  <p>A profile on MedicationStatement describing a prescription as defined by Forskrivning in the eResept M1 Norwegian project.</p>
</div></text>
  <url value="http://hl7.no/fhir/StructureDefinition/m1-prescribing" />
  <name value="M1 Prescribing" />
  <status value="draft" />
  <experimental value="false" />
  <publisher value="HL7 Norge" />
  <date value="2017-01-27T13:11:14.8692835+01:00" />
  <description value="A prescription as defined by Forskrivning in the eResept M1 Norwegian project." />
  <kind value="resource" />
  <constrainedType value="MedicationStatement" />
  <abstract value="false" />
  <base value="http://hl7.org/fhir/StructureDefinition/MedicationStatement" />
  <differential>
    <element>
      <path value="MedicationStatement" />
      <short value="M1 Prescribing profile." />
      <definition value="A prescription as defined by Forskrivning in the eResept M1 Norwegian project." />
    </element>
    <element>
      <path value="MedicationStatement.extension" />
      <slicing>
        <discriminator value="url" />
        <rules value="open" />
      </slicing>
    </element>
    <element>
      <path value="MedicationStatement.extension" />
      <name value="MyExtension" />
      <definition value="Dato for forskrivning." />
      <alias value="authoredOn" />
      <min value="1" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/mp9-authored-on" />
      </type>
      <mapping>
        <identity value="norway-m1-resept" />
        <map value="Resept.Forskrivningsdato" />
      </mapping>
    </element>
    <element>
      <path value="MedicationStatement.status.modifierExtension" />
      <slicing>
        <discriminator value="url" />
        <rules value="open" />
      </slicing>
    </element>
    <element>
      <path value="MedicationStatement.status.modifierExtension" />
      <name value="prescriptionStatus" />
      <comments value="Receiving systems should prioritise prescririptionStatus over status if it's present.&#xD;&#xA;&#xD;&#xA;When the prescrtiptionStatus is set to 'on-hold', MedicationStatement.status should be set to 'intended'." />
      <requirements value="The need to set the status on a MedicationStatement to 'paused' when the resource is used as a prescription of medication." />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://hl7.no/fhir/StructureDefinition/prescription-status" />
      </type>
      <meaningWhenMissing value="Code needed is available in MedicationStatement.status and the extended code was not required." />
      <mustSupport value="true" />
    </element>
    <element>
      <path value="MedicationStatement.status.modifierExtension.value[x]" />
      <binding>
        <strength value="required" />
        <valueSetReference>
          <reference value="http://hl7.org/fhir/medication-order-status" />
        </valueSetReference>
      </binding>
    </element>
    <element>
      <path value="MedicationStatement.reasonForUse[x]" />
      <binding>
        <strength value="required" />
        <valueSetReference>
          <reference value="https://simplifier.net/api/fhir/ValueSet/c877187c-f362-4425-827b-db2192001969" />
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="norway-m1-resept" />
        <map value="Resept.ReseptDokLegemiddel.Forskrivning.Bruksomrade" />
      </mapping>
    </element>
    <element>
      <path value="MedicationStatement.effectivePeriod" />
      <type>
        <code value="Period" />
      </type>
    </element>
    <element>
      <path value="MedicationStatement.effectivePeriod.start" />
      <definition value="Time when the dosage starts." />
      <alias value="Starttidspunkt" />
      <mapping>
        <identity value="norway-m1-resept" />
        <map value="Dosering.Starttidspunkt" />
      </mapping>
    </element>
    <element>
      <path value="MedicationStatement.effectivePeriod.end" />
      <definition value="Time when the dosage ends." />
      <alias value="Sluttidspunkt" />
      <mapping>
        <identity value="norway-m1-resept" />
        <map value="Dosering.Sluttidspunkt" />
      </mapping>
    </element>
    <element>
      <path value="MedicationStatement.note" />
      <short value="Important information about the usage of the medication." />
      <definition value="Important information about the usage of the medication." />
      <mapping>
        <identity value="norway-m1-resept" />
        <map value="Resept.EkspAnm.Merknad" />
      </mapping>
    </element>
    <element>
      <path value="MedicationStatement.medicationReference" />
      <type>
        <code value="Reference" />
        <profile value="https://simplifier.net/api/fhir/StructureDefinition/aebd4436-a488-4aab-ba1f-372ec300abbb" />
      </type>
    </element>
    <element>
      <path value="MedicationStatement.dosage" />
      <constraint>
        <key value="m1prescribing-1" />
        <severity value="error" />
        <human value="Dosage must include a freetext if no structured dosage is used" />
        <xpath value="not(exists(f:text)) or not(exists(f:timing))" />
      </constraint>
    </element>
    <element>
      <path value="MedicationStatement.dosage.extension" />
      <slicing>
        <discriminator value="url" />
        <rules value="open" />
      </slicing>
    </element>
    <element>
      <path value="MedicationStatement.dosage.extension" />
      <name value="MyExtension" />
      <definition value="To specify what forms the basis for calculating the dose (weight, age, body surface, other)." />
      <alias value="calculationBasis" />
      <alias value="DoseresEtter" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://hl7.no/fhir/StructureDefinition/calculation-basis" />
      </type>
      <mapping>
        <identity value="norway-m1-resept" />
        <map value="Resept.ReseptDokLegemiddel.Forskrivning.Dosering.Doseringsregel.DoseresEtter" />
      </mapping>
    </element>
    <element>
      <path value="MedicationStatement.dosage.extension" />
      <name value="MyExtension" />
      <definition value="Comment, other relevant information about dosage." />
      <alias value="calculationBasisNote" />
      <alias value="Merknad" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://hl7.no/fhir/StructureDefinition/calculation-basis-note" />
      </type>
      <mapping>
        <identity value="norway-m1-resept" />
        <map value="Doseringsregel.Merknad" />
      </mapping>
    </element>
    <element>
      <path value="MedicationStatement.dosage.extension" />
      <name value="MyExtension" />
      <definition value="Number of days a drug is to be used." />
      <alias value="daysAdministeredAmount" />
      <alias value="DagerPa" />
      <type>
        <code value="Extension" />
        <profile value="http://hl7.no/fhir/StructureDefinition/days-administered-amount" />
      </type>
    </element>
    <element>
      <path value="MedicationStatement.dosage.extension" />
      <name value="MyExtension" />
      <definition value="Number of days a drug is NOT to be used. This element is always in combination with DagerPa." />
      <alias value="daysNotAdministeredAmount" />
      <alias value="DagerAv" />
      <type>
        <code value="Extension" />
        <profile value="http://hl7.no/fhir/StructureDefinition/days-not-administered-amount" />
      </type>
    </element>
    <element>
      <path value="MedicationStatement.dosage.extension" />
      <name value="MyExtension" />
      <alias value="shortDosageText" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://hl7.no/fhir/StructureDefinition/short-dosage-text" />
      </type>
    </element>
    <element>
      <path value="MedicationStatement.dosage.text" />
      <mapping>
        <identity value="norway-m1-resept" />
        <map value="Resept.ReseptDokLegemiddel.Forskrivning.Dosering.Doseringsregel.Merknad" />
      </mapping>
    </element>
    <element>
      <path value="MedicationStatement.dosage.timing.extension" />
      <slicing>
        <discriminator value="url" />
        <rules value="open" />
      </slicing>
    </element>
    <element>
      <path value="MedicationStatement.dosage.timing.extension" />
      <name value="MyExtension" />
      <definition value="Medication must be given/taken at exact times." />
      <alias value="administerAtSpecificTime" />
      <alias value="GisEksakt" />
      <type>
        <code value="Extension" />
        <profile value="http://hl7.no/fhir/StructureDefinition/timing-exact" />
      </type>
      <mapping>
        <identity value="norway-m1-resept" />
        <map value="DoseFastTidspunkt.GisEksakt" />
      </mapping>
    </element>
    <element>
      <path value="MedicationStatement.dosage.timing.extension" />
      <name value="extension" />
      <definition value="Number of units of time that must pass between each time the drug is given/taken." />
      <alias value="administrationInterval" />
      <alias value="Intervall" />
      <type>
        <code value="Extension" />
        <profile value="http://hl7.no/fhir/StructureDefinition/timing-interval" />
      </type>
      <binding>
        <strength value="required" />
        <description value="Dette kodeverket inneholder benevning for tidsenheter. Skal benyttes for datatypen PQ når enhet skal være tidsenhet." />
        <valueSetReference>
          <reference value="https://simplifier.net/api/fhir/ValueSet/91336a25-1f89-4f12-a185-08a6d06a1af5" />
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="norway-m1-resept" />
        <map value="Dose.Intervall" />
      </mapping>
    </element>
    <element>
      <path value="MedicationStatement.dosage.timing.repeat.extension" />
      <slicing>
        <discriminator value="url" />
        <rules value="open" />
      </slicing>
    </element>
    <element>
      <path value="MedicationStatement.dosage.timing.repeat.extension" />
      <name value="MyExtension" />
      <definition value="Exact time of day medication must be taken at." />
      <alias value="specificTime" />
      <alias value="Klokkeslett" />
      <type>
        <code value="Extension" />
        <profile value="http://hl7.no/fhir/StructureDefinition/time-of-day" />
      </type>
      <mapping>
        <identity value="norway-m1-resept" />
        <map value="DoseFastTidspunkt.Klokkeslett" />
      </mapping>
    </element>
    <element>
      <path value="MedicationStatement.dosage.timing.repeat.extension" />
      <name value="MyExtension" />
      <definition value="Time period of the day the drug should be taken at (ex.: morning, noon, afternoon, etc)." />
      <comments value="Timing.repeat.when is not used as the binding is of strength &quot;required&quot; and is semantically incompatible with OID 8325 from volven.no" />
      <alias value="timePeriod" />
      <alias value="Tidsomrade" />
      <type>
        <code value="Extension" />
        <profile value="http://hl7.no/fhir/StructureDefinition/timeperiod" />
      </type>
      <mapping>
        <identity value="norway-m1-resept" />
        <map value="DoseFastTidspunkt.Tidsomrade" />
      </mapping>
    </element>
    <element>
      <path value="MedicationStatement.dosage.timing.repeat.extension" />
      <name value="MyExtension" />
      <alias value="whichWeekdays" />
      <alias value="FasteUkedager" />
      <type>
        <code value="Extension" />
        <profile value="https://simplifier.net/Nictiz/days-of-week" />
      </type>
      <binding>
        <strength value="required" />
        <description value="Days of the week" />
        <valueSetReference>
          <reference value="http://decor.nictiz.nl/fhir/ValueSet/2.16.840.1.113883.2.4.3.11.60.40.2.9.5.4--2015-04-01T00:00:00" />
        </valueSetReference>
      </binding>
    </element>
    <element>
      <path value="MedicationStatement.dosage.asNeededCodeableConcept" />
      <type>
        <code value="CodeableConcept" />
      </type>
      <mapping>
        <identity value="norway-m1-resept" />
        <map value="Resept.ReseptDokLegemiddel.Resept.Forskrivning.Bruk" />
      </mapping>
    </element>
    <element>
      <path value="MedicationStatement.dosage.asNeededCodeableConcept.coding" />
      <binding>
        <strength value="required" />
        <valueSetReference>
          <reference value="https://simplifier.net/api/fhir/ValueSet/f552702d-e769-4c4b-9fa5-0512c9ffe66b" />
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="norway-m1-resept" />
        <map value="Resept.ReseptDokLegemiddel.Resept.Forskrivning.Bruk" />
      </mapping>
    </element>
    <element>
      <path value="MedicationStatement.dosage.asNeededCodeableConcept.text" />
      <max value="0" />
    </element>
    <element>
      <path value="MedicationStatement.dosage.route" />
      <mapping>
        <identity value="norway-m1-resept" />
        <map value="Resept.ReseptDokLegemiddel.Forskrivning.typeLegemiddel.AdministreringLegemiddel.Administrasjonsvei" />
      </mapping>
    </element>
    <element>
      <path value="MedicationStatement.dosage.route.coding" />
      <binding>
        <strength value="required" />
        <valueSetReference>
          <reference value="https://simplifier.net/api/fhir/ValueSet/7ab290d7-7e42-4ec2-a693-75440b0ea038" />
        </valueSetReference>
      </binding>
    </element>
    <element>
      <path value="MedicationStatement.dosage.route.text" />
      <max value="0" />
    </element>
    <element>
      <path value="MedicationStatement.dosage.quantityQuantity" />
      <name value="SimpleQuantity" />
      <type>
        <code value="Quantity" />
        <profile value="http://hl7.org/fhir/StructureDefinition/SimpleQuantity" />
      </type>
      <binding>
        <strength value="required" />
        <description value="Enhet som skal inngå i doseringstekst som sendes i M1 og inngår på apotek-etiketten. Kodeverk til bruk i M30 fra versjon 2.4, og i M1" />
        <valueSetReference>
          <reference value="https://simplifier.net/api/fhir/ValueSet/7b326ba1-4fae-406f-a50a-35de49e172b1" />
        </valueSetReference>
      </binding>
    </element>
    <element>
      <path value="MedicationStatement.dosage.rateRange" />
      <type>
        <code value="Range" />
      </type>
    </element>
    <element>
      <path value="MedicationStatement.dosage.rateRange.low" />
      <name value="SimpleQuantity" />
      <binding>
        <strength value="required" />
        <valueSetReference>
          <reference value="https://simplifier.net/api/fhir/ValueSet/7a86c026-005b-489c-86d5-c68dcf7c08c9" />
        </valueSetReference>
      </binding>
    </element>
    <element>
      <path value="MedicationStatement.dosage.rateRange.high" />
      <name value="SimpleQuantity" />
      <binding>
        <strength value="required" />
        <valueSetReference>
          <reference value="https://simplifier.net/api/fhir/ValueSet/7a86c026-005b-489c-86d5-c68dcf7c08c9" />
        </valueSetReference>
      </binding>
    </element>
  </differential>
</StructureDefinition>